/*! osc.js 2.4.5, Copyright 2024 Colin Clark | github.com/colinbdclark/osc.js */
(osc = osc || {}).SECS_70YRS = 2208988800, osc.TWO_32 = 4294967296, osc.defaults = {
    metadata: !1,
    unpackSingleArgs: !0
}, osc.isCommonJS = !("undefined" == typeof module || !module.exports), osc.isNode = osc.isCommonJS && "undefined" == typeof window, 
osc.isElectron = !("undefined" == typeof process || !process.versions || !process.versions.electron), 
osc.isBufferEnv = osc.isNode || osc.isElectron, osc.isArray = function(e) {
    return e && "[object Array]" === Object.prototype.toString.call(e);
}, osc.isTypedArrayView = function(e) {
    return e.buffer && e.buffer instanceof ArrayBuffer;
}, osc.isBuffer = function(e) {
    return osc.isBufferEnv && e instanceof Buffer;
}, osc.Long = "undefined" != typeof Long ? Long : osc.isNode ? require("long") : void 0, 
osc.TextDecoder = "undefined" != typeof TextDecoder ? new TextDecoder("utf-8") : "undefined" != typeof util && (util.TextDecoder, 
1) ? new util.TextDecoder("utf-8") : void 0, osc.TextEncoder = "undefined" != typeof TextEncoder ? new TextEncoder("utf-8") : "undefined" != typeof util && (util.TextEncoder, 
1) ? new util.TextEncoder("utf-8") : void 0, osc.dataView = function(e, t, r) {
    return e.buffer ? new DataView(e.buffer, t, r) : e instanceof ArrayBuffer ? new DataView(e, t, r) : new DataView(new Uint8Array(e), t, r);
}, osc.byteArray = function(e) {
    if (e instanceof Uint8Array) return e;
    var t = e.buffer || e;
    if (t instanceof ArrayBuffer || void 0 !== t.length && "string" != typeof t) return new Uint8Array(t);
    throw new Error("Can't wrap a non-array-like object as Uint8Array. Object was: " + JSON.stringify(e, null, 2));
}, osc.nativeBuffer = function(e) {
    return osc.isBufferEnv ? osc.isBuffer(e) ? e : Buffer.from(e.buffer ? e : new Uint8Array(e)) : osc.isTypedArrayView(e) ? e : new Uint8Array(e);
}, osc.copyByteArray = function(e, t, r) {
    if (osc.isTypedArrayView(e) && osc.isTypedArrayView(t)) t.set(e, r); else for (var i = void 0 === r ? 0 : r, n = Math.min(t.length - r, e.length), s = 0, o = i; s < n; s++, 
    o++) t[o] = e[s];
    return t;
}, osc.readString = function(e, t) {
    for (var r = [], i = t.idx; i < e.byteLength; i++) {
        var n = e.getUint8(i);
        if (0 === n) {
            i++;
            break;
        }
        r.push(n);
    }
    return t.idx = i = i + 3 & -4, (osc.isBufferEnv ? osc.readString.withBuffer : osc.TextDecoder ? osc.readString.withTextDecoder : osc.readString.raw)(r);
}, osc.readString.raw = function(e) {
    for (var t = "", r = 0; r < e.length; r += 1e4) t += String.fromCharCode.apply(null, e.slice(r, r + 1e4));
    return t;
}, osc.readString.withTextDecoder = function(e) {
    e = new Int8Array(e);
    return osc.TextDecoder.decode(e);
}, osc.readString.withBuffer = function(e) {
    return Buffer.from(e).toString("utf-8");
}, osc.writeString = function(e) {
    for (var t, r = osc.isBufferEnv ? osc.writeString.withBuffer : osc.TextEncoder ? osc.writeString.withTextEncoder : null, i = e + "\0", n = (r && (t = r(i)), 
    (r ? t : i).length), s = new Uint8Array(n + 3 & -4), o = 0; o < n - 1; o++) {
        var a = r ? t[o] : i.charCodeAt(o);
        s[o] = a;
    }
    return s;
}, osc.writeString.withTextEncoder = function(e) {
    return osc.TextEncoder.encode(e);
}, osc.writeString.withBuffer = function(e) {
    return Buffer.from(e);
}, osc.readPrimitive = function(e, t, r, i) {
    e = e[t](i.idx, !1);
    return i.idx += r, e;
}, osc.writePrimitive = function(e, t, r, i, n) {
    var s;
    return n = void 0 === n ? 0 : n, t ? s = new Uint8Array(t.buffer) : (s = new Uint8Array(i), 
    t = new DataView(s.buffer)), t[r](n, e, !1), s;
}, osc.readInt32 = function(e, t) {
    return osc.readPrimitive(e, "getInt32", 4, t);
}, osc.writeInt32 = function(e, t, r) {
    return osc.writePrimitive(e, t, "setInt32", 4, r);
}, osc.readInt64 = function(e, t) {
    var r = osc.readPrimitive(e, "getInt32", 4, t), e = osc.readPrimitive(e, "getInt32", 4, t);
    return osc.Long ? new osc.Long(e, r) : {
        high: r,
        low: e,
        unsigned: !1
    };
}, osc.writeInt64 = function(e, t, r) {
    var i = new Uint8Array(8);
    return i.set(osc.writePrimitive(e.high, t, "setInt32", 4, r), 0), i.set(osc.writePrimitive(e.low, t, "setInt32", 4, r + 4), 4), 
    i;
}, osc.readFloat32 = function(e, t) {
    return osc.readPrimitive(e, "getFloat32", 4, t);
}, osc.writeFloat32 = function(e, t, r) {
    return osc.writePrimitive(e, t, "setFloat32", 4, r);
}, osc.readFloat64 = function(e, t) {
    return osc.readPrimitive(e, "getFloat64", 8, t);
}, osc.writeFloat64 = function(e, t, r) {
    return osc.writePrimitive(e, t, "setFloat64", 8, r);
}, osc.readChar32 = function(e, t) {
    e = osc.readPrimitive(e, "getUint32", 4, t);
    return String.fromCharCode(e);
}, osc.writeChar32 = function(e, t, r) {
    e = e.charCodeAt(0);
    if (!(void 0 === e || e < -1)) return osc.writePrimitive(e, t, "setUint32", 4, r);
}, osc.readBlob = function(e, t) {
    var r = osc.readInt32(e, t), i = r + 3 & -4, e = new Uint8Array(e.buffer, t.idx, r);
    return t.idx += i, e;
}, osc.writeBlob = function(e) {
    var t = (e = osc.byteArray(e)).byteLength, r = new Uint8Array(4 + (t + 3 & -4)), i = new DataView(r.buffer);
    return osc.writeInt32(t, i), r.set(e, 4), r;
}, osc.readMIDIBytes = function(e, t) {
    e = new Uint8Array(e.buffer, t.idx, 4);
    return t.idx += 4, e;
}, osc.writeMIDIBytes = function(e) {
    e = osc.byteArray(e);
    var t = new Uint8Array(4);
    return t.set(e), t;
}, osc.readColor = function(e, t) {
    var e = new Uint8Array(e.buffer, t.idx, 4), r = e[3] / 255;
    return t.idx += 4, {
        r: e[0],
        g: e[1],
        b: e[2],
        a: r
    };
}, osc.writeColor = function(e) {
    var t = Math.round(255 * e.a);
    return new Uint8Array([ e.r, e.g, e.b, t ]);
}, osc.readTrue = function() {
    return !0;
}, osc.readFalse = function() {
    return !1;
}, osc.readNull = function() {
    return null;
}, osc.readImpulse = function() {
    return 1;
}, osc.readTimeTag = function(e, t) {
    var r = osc.readPrimitive(e, "getUint32", 4, t), e = osc.readPrimitive(e, "getUint32", 4, t);
    return {
        raw: [ r, e ],
        native: 0 === r && 1 === e ? Date.now() : osc.ntpToJSTime(r, e)
    };
}, osc.writeTimeTag = function(e) {
    var e = e.raw || osc.jsToNTPTime(e.native), t = new Uint8Array(8), r = new DataView(t.buffer);
    return osc.writeInt32(e[0], r, 0), osc.writeInt32(e[1], r, 4), t;
}, osc.timeTag = function(e, t) {
    e = e || 0;
    var t = (t = t || Date.now()) / 1e3, r = Math.floor(t), t = t - r, i = Math.floor(e), t = t + (e - i);
    return 1 < t && (i += e = Math.floor(t), t = t - e), {
        raw: [ r + i + osc.SECS_70YRS, Math.round(osc.TWO_32 * t) ]
    };
}, osc.ntpToJSTime = function(e, t) {
    return 1e3 * (e - osc.SECS_70YRS + t / osc.TWO_32);
}, osc.jsToNTPTime = function(e) {
    var e = e / 1e3, t = Math.floor(e);
    return [ t + osc.SECS_70YRS, Math.round(osc.TWO_32 * (e - t)) ];
}, osc.readArguments = function(e, t, r) {
    var i = osc.readString(e, r);
    if (0 !== i.indexOf(",")) throw new Error("A malformed type tag string was found while reading the arguments of an OSC message. String was: " + i, " at offset: " + r.idx);
    var n = i.substring(1).split(""), s = [];
    return osc.readArgumentsIntoArray(s, n, i, e, t, r), s;
}, osc.readArgument = function(e, t, r, i, n) {
    var s = osc.argumentTypes[e];
    if (s) return s = s.reader, s = osc[s](r, n), i.metadata ? {
        type: e,
        value: s
    } : s;
    throw new Error("'" + e + "' is not a valid OSC type tag. Type tag string was: " + t);
}, osc.readArgumentsIntoArray = function(e, t, r, i, n, s) {
    for (var o = 0; o < t.length; ) {
        var a = t[o];
        if ("[" === a) {
            var c = t.slice(o + 1), u = c.indexOf("]");
            if (u < 0) throw new Error("Invalid argument type tag: an open array type tag ('[') was found without a matching close array tag ('[]'). Type tag was: " + r);
            c = c.slice(0, u), c = osc.readArgumentsIntoArray([], c, r, i, n, s);
            o += u + 2;
        } else c = osc.readArgument(a, r, i, n, s), o++;
        e.push(c);
    }
    return e;
}, osc.writeArguments = function(e, t) {
    e = osc.collectArguments(e, t);
    return osc.joinParts(e);
}, osc.joinParts = function(e) {
    for (var t = new Uint8Array(e.byteLength), r = e.parts, i = 0, n = 0; n < r.length; n++) {
        var s = r[n];
        osc.copyByteArray(s, t, i), i += s.length;
    }
    return t;
}, osc.addDataPart = function(e, t) {
    t.parts.push(e), t.byteLength += e.length;
}, osc.writeArrayArguments = function(e, t) {
    for (var r = "[", i = 0; i < e.length; i++) r += osc.writeArgument(e[i], t);
    return r += "]";
}, osc.writeArgument = function(e, t) {
    var r;
    return osc.isArray(e) ? osc.writeArrayArguments(e, t) : (r = e.type, (r = osc.argumentTypes[r].writer) && (r = osc[r](e.value), 
    osc.addDataPart(r, t)), e.type);
}, osc.collectArguments = function(e, t, r) {
    osc.isArray(e) || (e = void 0 === e ? [] : [ e ]), r = r || {
        byteLength: 0,
        parts: []
    }, t.metadata || (e = osc.annotateArguments(e));
    for (var i = ",", t = r.parts.length, n = 0; n < e.length; n++) {
        var s = e[n];
        i += osc.writeArgument(s, r);
    }
    var o = osc.writeString(i);
    return r.byteLength += o.byteLength, r.parts.splice(t, 0, o), r;
}, osc.readMessage = function(e, t, r) {
    t = t || osc.defaults;
    var e = osc.dataView(e, e.byteOffset, e.byteLength), i = osc.readString(e, r = r || {
        idx: 0
    });
    return osc.readMessageContents(i, e, t, r);
}, osc.readMessageContents = function(e, t, r, i) {
    if (0 !== e.indexOf("/")) throw new Error("A malformed OSC address was found while reading an OSC message. String was: " + e);
    t = osc.readArguments(t, r, i);
    return {
        address: e,
        args: 1 === t.length && r.unpackSingleArgs ? t[0] : t
    };
}, osc.collectMessageParts = function(e, t, r) {
    return r = r || {
        byteLength: 0,
        parts: []
    }, osc.addDataPart(osc.writeString(e.address), r), osc.collectArguments(e.args, t, r);
}, osc.writeMessage = function(e, t) {
    if (t = t || osc.defaults, osc.isValidMessage(e)) return t = osc.collectMessageParts(e, t), 
    osc.joinParts(t);
    throw new Error("An OSC message must contain a valid address. Message was: " + JSON.stringify(e, null, 2));
}, osc.isValidMessage = function(e) {
    return e.address && 0 === e.address.indexOf("/");
}, osc.readBundle = function(e, t, r) {
    return osc.readPacket(e, t, r);
}, osc.collectBundlePackets = function(e, t, r) {
    r = r || {
        byteLength: 0,
        parts: []
    }, osc.addDataPart(osc.writeString("#bundle"), r), osc.addDataPart(osc.writeTimeTag(e.timeTag), r);
    for (var i = 0; i < e.packets.length; i++) {
        var n = e.packets[i], n = (n.address ? osc.collectMessageParts : osc.collectBundlePackets)(n, t);
        r.byteLength += n.byteLength, osc.addDataPart(osc.writeInt32(n.byteLength), r), 
        r.parts = r.parts.concat(n.parts);
    }
    return r;
}, osc.writeBundle = function(e, t) {
    if (!osc.isValidBundle(e)) throw new Error("An OSC bundle must contain 'timeTag' and 'packets' properties. Bundle was: " + JSON.stringify(e, null, 2));
    t = t || osc.defaults;
    e = osc.collectBundlePackets(e, t);
    return osc.joinParts(e);
}, osc.isValidBundle = function(e) {
    return void 0 !== e.timeTag && void 0 !== e.packets;
}, osc.readBundleContents = function(e, t, r, i) {
    for (var n = osc.readTimeTag(e, r), s = []; r.idx < i; ) {
        var o = osc.readInt32(e, r), o = r.idx + o, o = osc.readPacket(e, t, r, o);
        s.push(o);
    }
    return {
        timeTag: n,
        packets: s
    };
}, osc.readPacket = function(e, t, r, i) {
    var e = osc.dataView(e, e.byteOffset, e.byteLength), n = (i = void 0 === i ? e.byteLength : i, 
    osc.readString(e, r = r || {
        idx: 0
    })), s = n[0];
    if ("#" === s) return osc.readBundleContents(e, t, r, i);
    if ("/" === s) return osc.readMessageContents(n, e, t, r);
    throw new Error("The header of an OSC packet didn't contain an OSC address or a #bundle string. Header was: " + n);
}, osc.writePacket = function(e, t) {
    if (osc.isValidMessage(e)) return osc.writeMessage(e, t);
    if (osc.isValidBundle(e)) return osc.writeBundle(e, t);
    throw new Error("The specified packet was not recognized as a valid OSC message or bundle. Packet was: " + JSON.stringify(e, null, 2));
}, osc.argumentTypes = {
    i: {
        reader: "readInt32",
        writer: "writeInt32"
    },
    h: {
        reader: "readInt64",
        writer: "writeInt64"
    },
    f: {
        reader: "readFloat32",
        writer: "writeFloat32"
    },
    s: {
        reader: "readString",
        writer: "writeString"
    },
    S: {
        reader: "readString",
        writer: "writeString"
    },
    b: {
        reader: "readBlob",
        writer: "writeBlob"
    },
    t: {
        reader: "readTimeTag",
        writer: "writeTimeTag"
    },
    T: {
        reader: "readTrue"
    },
    F: {
        reader: "readFalse"
    },
    N: {
        reader: "readNull"
    },
    I: {
        reader: "readImpulse"
    },
    d: {
        reader: "readFloat64",
        writer: "writeFloat64"
    },
    c: {
        reader: "readChar32",
        writer: "writeChar32"
    },
    r: {
        reader: "readColor",
        writer: "writeColor"
    },
    m: {
        reader: "readMIDIBytes",
        writer: "writeMIDIBytes"
    }
}, osc.inferTypeForArgument = function(e) {
    switch (typeof e) {
      case "boolean":
        return e ? "T" : "F";

      case "string":
        return "s";

      case "number":
        return "f";

      case "undefined":
        return "N";

      case "object":
        if (null === e) return "N";
        if (e instanceof Uint8Array || e instanceof ArrayBuffer) return "b";
        if ("number" == typeof e.high && "number" == typeof e.low) return "h";
    }
    throw new Error("Can't infer OSC argument type for value: " + JSON.stringify(e, null, 2));
}, osc.annotateArguments = function(e) {
    for (var t = [], r = 0; r < e.length; r++) {
        var i = e[r];
        i = "object" == typeof i && i.type && void 0 !== i.value ? i : osc.isArray(i) ? osc.annotateArguments(i) : {
            type: osc.inferTypeForArgument(i),
            value: i
        }, t.push(i);
    }
    return t;
}, osc.isCommonJS && (module.exports = osc), ((e, t) => {
    "object" == typeof exports && "object" == typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? exports.Long = t() : e.Long = t();
})("undefined" != typeof self ? self : this, function() {
    return r = [ function(e, t) {
        function i(e, t, r) {
            this.low = 0 | e, this.high = 0 | t, this.unsigned = !!r;
        }
        function d(e) {
            return !0 === (e && e.__isLong__);
        }
        function r(e, t) {
            var r, i, n;
            return t ? (n = 0 <= (e >>>= 0) && e < 256) && (i = o[e]) ? i : (r = g(e, (0 | e) < 0 ? -1 : 0, !0), 
            n && (o[e] = r), r) : (n = -128 <= (e |= 0) && e < 128) && (i = s[e]) ? i : (r = g(e, e < 0 ? -1 : 0, !1), 
            n && (s[e] = r), r);
        }
        function l(e, t) {
            if (isNaN(e)) return t ? f : m;
            if (t) {
                if (e < 0) return f;
                if (a <= e) return P;
            } else {
                if (e <= -c) return A;
                if (c <= e + 1) return E;
            }
            return e < 0 ? l(-e, t).neg() : g(e % n | 0, e / n | 0, t);
        }
        function g(e, t, r) {
            return new i(e, t, r);
        }
        function u(e, t, r) {
            if (0 === e.length) throw Error("empty string");
            if ("NaN" === e || "Infinity" === e || "+Infinity" === e || "-Infinity" === e) return m;
            if (t = "number" == typeof t ? (r = t, !1) : !!t, (r = r || 10) < 2 || 36 < r) throw RangeError("radix");
            var i;
            if (0 < (i = e.indexOf("-"))) throw Error("interior hyphen");
            if (0 === i) return u(e.substring(1), t, r).neg();
            for (var n = l(h(r, 8)), s = m, o = 0; o < e.length; o += 8) {
                var a = Math.min(8, e.length - o), c = parseInt(e.substring(o, o + a), r);
                s = (a < 8 ? (a = l(h(r, a)), s.mul(a)) : s = s.mul(n)).add(l(c));
            }
            return s.unsigned = t, s;
        }
        function p(e, t) {
            return "number" == typeof e ? l(e, t) : "string" == typeof e ? u(e, t) : g(e.low, e.high, "boolean" == typeof t ? t : e.unsigned);
        }
        e.exports = i;
        var w = null;
        try {
            w = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([ 0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11 ])), {}).exports;
        } catch (e) {}
        Object.defineProperty(i.prototype, "__isLong__", {
            value: !0
        }), i.isLong = d;
        var s = {}, o = {}, h = (i.fromInt = r, i.fromNumber = l, i.fromBits = g, 
        Math.pow), n = (i.fromString = u, i.fromValue = p, 4294967296), a = n * n, c = a / 2, y = r(1 << 24), m = r(0), f = (i.ZERO = m, 
        r(0, !0)), v = (i.UZERO = f, r(1)), b = (i.ONE = v, r(1, !0)), S = (i.UONE = b, 
        r(-1)), E = (i.NEG_ONE = S, g(-1, 2147483647, !1)), P = (i.MAX_VALUE = E, 
        g(-1, -1, !0)), A = (i.MAX_UNSIGNED_VALUE = P, g(0, -2147483648, !1)), B = (i.MIN_VALUE = A, 
        i.prototype);
        B.toInt = function() {
            return this.unsigned ? this.low >>> 0 : this.low;
        }, B.toNumber = function() {
            return this.unsigned ? (this.high >>> 0) * n + (this.low >>> 0) : this.high * n + (this.low >>> 0);
        }, B.toString = function(e) {
            if ((e = e || 10) < 2 || 36 < e) throw RangeError("radix");
            if (this.isZero()) return "0";
            var t, r;
            if (this.isNegative()) return this.eq(A) ? (r = l(e), r = (t = this.div(r)).mul(r).sub(this), 
            t.toString(e) + r.toInt().toString(e)) : "-" + this.neg().toString(e);
            for (var i = l(h(e, 6), this.unsigned), n = this, s = ""; ;) {
                var o = n.div(i), a = (n.sub(o.mul(i)).toInt() >>> 0).toString(e);
                if ((n = o).isZero()) return a + s;
                for (;a.length < 6; ) a = "0" + a;
                s = "" + a + s;
            }
        }, B.getHighBits = function() {
            return this.high;
        }, B.getHighBitsUnsigned = function() {
            return this.high >>> 0;
        }, B.getLowBits = function() {
            return this.low;
        }, B.getLowBitsUnsigned = function() {
            return this.low >>> 0;
        }, B.getNumBitsAbs = function() {
            if (this.isNegative()) return this.eq(A) ? 64 : this.neg().getNumBitsAbs();
            for (var e = 0 != this.high ? this.high : this.low, t = 31; 0 < t && 0 == (e & 1 << t); t--);
            return 0 != this.high ? t + 33 : t + 1;
        }, B.isZero = function() {
            return 0 === this.high && 0 === this.low;
        }, B.eqz = B.isZero, B.isNegative = function() {
            return !this.unsigned && this.high < 0;
        }, B.isPositive = function() {
            return this.unsigned || 0 <= this.high;
        }, B.isOdd = function() {
            return 1 == (1 & this.low);
        }, B.isEven = function() {
            return 0 == (1 & this.low);
        }, B.equals = function(e) {
            return d(e) || (e = p(e)), (this.unsigned === e.unsigned || this.high >>> 31 != 1 || e.high >>> 31 != 1) && this.high === e.high && this.low === e.low;
        }, B.eq = B.equals, B.notEquals = function(e) {
            return !this.eq(e);
        }, B.neq = B.notEquals, B.ne = B.notEquals, B.lessThan = function(e) {
            return this.comp(e) < 0;
        }, B.lt = B.lessThan, B.lessThanOrEqual = function(e) {
            return this.comp(e) <= 0;
        }, B.lte = B.lessThanOrEqual, B.le = B.lessThanOrEqual, B.greaterThan = function(e) {
            return 0 < this.comp(e);
        }, B.gt = B.greaterThan, B.greaterThanOrEqual = function(e) {
            return 0 <= this.comp(e);
        }, B.gte = B.greaterThanOrEqual, B.ge = B.greaterThanOrEqual, B.compare = function(e) {
            var t, r;
            return d(e) || (e = p(e)), this.eq(e) ? 0 : (t = this.isNegative(), 
            r = e.isNegative(), t && !r ? -1 : !t && r ? 1 : this.unsigned ? e.high >>> 0 > this.high >>> 0 || e.high === this.high && e.low >>> 0 > this.low >>> 0 ? -1 : 1 : this.sub(e).isNegative() ? -1 : 1);
        }, B.comp = B.compare, B.negate = function() {
            return !this.unsigned && this.eq(A) ? A : this.not().add(v);
        }, B.neg = B.negate, B.add = function(e) {
            d(e) || (e = p(e));
            var t = this.high >>> 16, r = 65535 & this.high, i = this.low >>> 16, n = 65535 & this.low, s = e.high >>> 16, o = 65535 & e.high, a = e.low >>> 16, c = 0, u = 0, h = 0, f = 0;
            return u += (h = h + ((f += n + (65535 & e.low)) >>> 16) + (i + a)) >>> 16, 
            g((h &= 65535) << 16 | (f &= 65535), ((c += (u += r + o) >>> 16) + (t + s) & 65535) << 16 | (u &= 65535), this.unsigned);
        }, B.subtract = function(e) {
            return d(e) || (e = p(e)), this.add(e.neg());
        }, B.sub = B.subtract, B.multiply = function(e) {
            var t, r, i, n, s, o, a, c, u, h, f;
            return this.isZero() ? m : (d(e) || (e = p(e)), w ? g(w.mul(this.low, this.high, e.low, e.high), w.get_high(), this.unsigned) : e.isZero() ? m : this.eq(A) ? e.isOdd() ? A : m : e.eq(A) ? this.isOdd() ? A : m : this.isNegative() ? e.isNegative() ? this.neg().mul(e.neg()) : this.neg().mul(e).neg() : e.isNegative() ? this.mul(e.neg()).neg() : this.lt(y) && e.lt(y) ? l(this.toNumber() * e.toNumber(), this.unsigned) : (t = this.high >>> 16, 
            r = 65535 & this.high, i = this.low >>> 16, n = 65535 & this.low, s = e.high >>> 16, 
            o = 65535 & e.high, a = e.low >>> 16, f = (f = h = u = c = 0) + ((u = u + ((h += n * (e = 65535 & e.low)) >>> 16) + i * e) >>> 16) + ((u = (u & 65535) + n * a) >>> 16), 
            g((u &= 65535) << 16 | (h &= 65535), (c = (c = (c += (f += r * e) >>> 16) + ((f = (f & 65535) + i * a) >>> 16) + ((f = (f & 65535) + n * o) >>> 16)) + (t * e + r * a + i * o + n * s) & 65535) << 16 | (f &= 65535), this.unsigned)));
        }, B.mul = B.multiply, B.divide = function(e) {
            if ((e = d(e) ? e : p(e)).isZero()) throw Error("division by zero");
            if (w) return this.unsigned || -2147483648 !== this.high || -1 !== e.low || -1 !== e.high ? g((this.unsigned ? w.div_u : w.div_s)(this.low, this.high, e.low, e.high), w.get_high(), this.unsigned) : this;
            if (this.isZero()) return this.unsigned ? f : m;
            var t, r;
            if (this.unsigned) {
                if ((e = e.unsigned ? e : e.toUnsigned()).gt(this)) return f;
                if (e.gt(this.shru(1))) return b;
                r = f;
            } else {
                if (this.eq(A)) return e.eq(v) || e.eq(S) ? A : e.eq(A) ? v : (i = this.shr(1).div(e).shl(1)).eq(m) ? e.isNegative() ? v : S : (t = this.sub(e.mul(i)), 
                i.add(t.div(e)));
                if (e.eq(A)) return this.unsigned ? f : m;
                if (this.isNegative()) return e.isNegative() ? this.neg().div(e.neg()) : this.neg().div(e).neg();
                if (e.isNegative()) return this.div(e.neg()).neg();
                r = m;
            }
            for (t = this; t.gte(e); ) {
                for (var i = Math.max(1, Math.floor(t.toNumber() / e.toNumber())), n = Math.ceil(Math.log(i) / Math.LN2), s = n <= 48 ? 1 : h(2, n - 48), o = l(i), a = o.mul(e); a.isNegative() || a.gt(t); ) a = (o = l(i -= s, this.unsigned)).mul(e);
                o.isZero() && (o = v), r = r.add(o), t = t.sub(a);
            }
            return r;
        }, B.div = B.divide, B.modulo = function(e) {
            return d(e) || (e = p(e)), w ? g((this.unsigned ? w.rem_u : w.rem_s)(this.low, this.high, e.low, e.high), w.get_high(), this.unsigned) : this.sub(this.div(e).mul(e));
        }, B.mod = B.modulo, B.rem = B.modulo, B.not = function() {
            return g(~this.low, ~this.high, this.unsigned);
        }, B.and = function(e) {
            return d(e) || (e = p(e)), g(this.low & e.low, this.high & e.high, this.unsigned);
        }, B.or = function(e) {
            return d(e) || (e = p(e)), g(this.low | e.low, this.high | e.high, this.unsigned);
        }, B.xor = function(e) {
            return d(e) || (e = p(e)), g(this.low ^ e.low, this.high ^ e.high, this.unsigned);
        }, B.shiftLeft = function(e) {
            return d(e) && (e = e.toInt()), 0 == (e &= 63) ? this : e < 32 ? g(this.low << e, this.high << e | this.low >>> 32 - e, this.unsigned) : g(0, this.low << e - 32, this.unsigned);
        }, B.shl = B.shiftLeft, B.shiftRight = function(e) {
            return d(e) && (e = e.toInt()), 0 == (e &= 63) ? this : e < 32 ? g(this.low >>> e | this.high << 32 - e, this.high >> e, this.unsigned) : g(this.high >> e - 32, 0 <= this.high ? 0 : -1, this.unsigned);
        }, B.shr = B.shiftRight, B.shiftRightUnsigned = function(e) {
            var t;
            return d(e) && (e = e.toInt()), 0 == (e &= 63) ? this : (t = this.high, 
            e < 32 ? g(this.low >>> e | t << 32 - e, t >>> e, this.unsigned) : g(32 === e ? t : t >>> e - 32, 0, this.unsigned));
        }, B.shru = B.shiftRightUnsigned, B.shr_u = B.shiftRightUnsigned, B.toSigned = function() {
            return this.unsigned ? g(this.low, this.high, !1) : this;
        }, B.toUnsigned = function() {
            return this.unsigned ? this : g(this.low, this.high, !0);
        }, B.toBytes = function(e) {
            return e ? this.toBytesLE() : this.toBytesBE();
        }, B.toBytesLE = function() {
            var e = this.high, t = this.low;
            return [ 255 & t, t >>> 8 & 255, t >>> 16 & 255, t >>> 24, 255 & e, e >>> 8 & 255, e >>> 16 & 255, e >>> 24 ];
        }, B.toBytesBE = function() {
            var e = this.high, t = this.low;
            return [ e >>> 24, e >>> 16 & 255, e >>> 8 & 255, 255 & e, t >>> 24, t >>> 16 & 255, t >>> 8 & 255, 255 & t ];
        }, i.fromBytes = function(e, t, r) {
            return r ? i.fromBytesLE(e, t) : i.fromBytesBE(e, t);
        }, i.fromBytesLE = function(e, t) {
            return new i(e[0] | e[1] << 8 | e[2] << 16 | e[3] << 24, e[4] | e[5] << 8 | e[6] << 16 | e[7] << 24, t);
        }, i.fromBytesBE = function(e, t) {
            return new i(e[4] << 24 | e[5] << 16 | e[6] << 8 | e[7], e[0] << 24 | e[1] << 16 | e[2] << 8 | e[3], t);
        };
    } ], n = {}, i.m = r, i.c = n, i.d = function(e, t, r) {
        i.o(e, t) || Object.defineProperty(e, t, {
            configurable: !1,
            enumerable: !0,
            get: r
        });
    }, i.n = function(e) {
        var t = e && e.__esModule ? function() {
            return e.default;
        } : function() {
            return e;
        };
        return i.d(t, "a", t), t;
    }, i.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t);
    }, i.p = "", i(i.s = 0);
    function i(e) {
        var t;
        return (n[e] || (t = n[e] = {
            i: e,
            l: !1,
            exports: {}
        }, r[e].call(t.exports, t, t.exports, i), t.l = !0, t)).exports;
    }
    var r, n;
}), ((t, r) => {
    "object" == typeof exports ? (t.slip = exports, r(exports)) : "function" == typeof define && define.amd ? define([ "exports" ], function(e) {
        return t.slip = e, r(e);
    }) : (t.slip = {}, r(t.slip));
})(this, function(e) {
    var o = e, e = (o.END = 192, o.ESC = 219, o.ESC_END = 220, o.ESC_ESC = 221, 
    o.byteArray = function(e, t, r) {
        return e instanceof ArrayBuffer ? new Uint8Array(e, t, r) : e;
    }, o.expandByteArray = function(e) {
        var t = new Uint8Array(2 * e.length);
        return t.set(e), t;
    }, o.sliceByteArray = function(e, t, r) {
        e = e.buffer.slice ? e.buffer.slice(t, r) : e.subarray(t, r);
        return new Uint8Array(e);
    }, o.encode = function(e, t) {
        (t = t || {}).bufferPadding = t.bufferPadding || 4;
        var t = (e = o.byteArray(e, t.offset, t.byteLength)).length + t.bufferPadding + 3 & -4, r = new Uint8Array(t), i = 1;
        r[0] = o.END;
        for (var n = 0; n < e.length; n++) {
            i > r.length - 3 && (r = o.expandByteArray(r));
            var s = e[n];
            s === o.END ? (r[i++] = o.ESC, s = o.ESC_END) : s === o.ESC && (r[i++] = o.ESC, 
            s = o.ESC_ESC), r[i++] = s;
        }
        return r[i] = o.END, o.sliceByteArray(r, 0, i + 1);
    }, o.Decoder = function(e) {
        this.maxMessageSize = (e = "function" != typeof e ? e || {} : {
            onMessage: e
        }).maxMessageSize || 10485760, this.bufferSize = e.bufferSize || 1024, this.msgBuffer = new Uint8Array(this.bufferSize), 
        this.msgBufferIdx = 0, this.onMessage = e.onMessage, this.onError = e.onError, 
        this.escape = !1;
    }, o.Decoder.prototype);
    return e.decode = function(e) {
        var t;
        e = o.byteArray(e);
        for (var r = 0; r < e.length; r++) {
            var i = e[r];
            if (this.escape) i === o.ESC_ESC ? i = o.ESC : i === o.ESC_END && (i = o.END); else {
                if (i === o.ESC) {
                    this.escape = !0;
                    continue;
                }
                if (i === o.END) {
                    t = this.handleEnd();
                    continue;
                }
            }
            this.addByte(i) || this.handleMessageMaxError();
        }
        return t;
    }, e.handleMessageMaxError = function() {
        this.onError && this.onError(this.msgBuffer.subarray(0), "The message is too large; the maximum message size is " + this.maxMessageSize / 1024 + "KB. Use a larger maxMessageSize if necessary."), 
        this.msgBufferIdx = 0, this.escape = !1;
    }, e.addByte = function(e) {
        return this.msgBufferIdx > this.msgBuffer.length - 1 && (this.msgBuffer = o.expandByteArray(this.msgBuffer)), 
        this.msgBuffer[this.msgBufferIdx++] = e, this.escape = !1, this.msgBuffer.length < this.maxMessageSize;
    }, e.handleEnd = function() {
        var e;
        if (0 !== this.msgBufferIdx) return e = o.sliceByteArray(this.msgBuffer, 0, this.msgBufferIdx), 
        this.onMessage && this.onMessage(e), this.msgBufferIdx = 0, e;
    }, o;
}), (e => {
    function t() {}
    var r = t.prototype, i = e.EventEmitter;
    function s(e, t) {
        for (var r = e.length; r--; ) if (e[r].listener === t) return r;
        return -1;
    }
    function n(e) {
        return function() {
            return this[e].apply(this, arguments);
        };
    }
    r.getListeners = function(e) {
        var t, r, i = this._getEvents();
        if (e instanceof RegExp) for (r in t = {}, i) i.hasOwnProperty(r) && e.test(r) && (t[r] = i[r]); else t = i[e] || (i[e] = []);
        return t;
    }, r.flattenListeners = function(e) {
        for (var t = [], r = 0; r < e.length; r += 1) t.push(e[r].listener);
        return t;
    }, r.getListenersAsObject = function(e) {
        var t, r = this.getListeners(e);
        return r instanceof Array && ((t = {})[e] = r), t || r;
    }, r.addListener = function(e, t) {
        if (!function e(t) {
            return "function" == typeof t || t instanceof RegExp || !(!t || "object" != typeof t) && e(t.listener);
        }(t)) throw new TypeError("listener must be a function");
        var r, i = this.getListenersAsObject(e), n = "object" == typeof t;
        for (r in i) i.hasOwnProperty(r) && -1 === s(i[r], t) && i[r].push(n ? t : {
            listener: t,
            once: !1
        });
        return this;
    }, r.on = n("addListener"), r.addOnceListener = function(e, t) {
        return this.addListener(e, {
            listener: t,
            once: !0
        });
    }, r.once = n("addOnceListener"), r.defineEvent = function(e) {
        return this.getListeners(e), this;
    }, r.defineEvents = function(e) {
        for (var t = 0; t < e.length; t += 1) this.defineEvent(e[t]);
        return this;
    }, r.removeListener = function(e, t) {
        var r, i, n = this.getListenersAsObject(e);
        for (i in n) n.hasOwnProperty(i) && -1 !== (r = s(n[i], t)) && n[i].splice(r, 1);
        return this;
    }, r.off = n("removeListener"), r.addListeners = function(e, t) {
        return this.manipulateListeners(!1, e, t);
    }, r.removeListeners = function(e, t) {
        return this.manipulateListeners(!0, e, t);
    }, r.manipulateListeners = function(e, t, r) {
        var i, n, s = e ? this.removeListener : this.addListener, o = e ? this.removeListeners : this.addListeners;
        if ("object" != typeof t || t instanceof RegExp) for (i = r.length; i--; ) s.call(this, t, r[i]); else for (i in t) t.hasOwnProperty(i) && (n = t[i]) && ("function" == typeof n ? s : o).call(this, i, n);
        return this;
    }, r.removeEvent = function(e) {
        var t, r = typeof e, i = this._getEvents();
        if ("string" == r) delete i[e]; else if (e instanceof RegExp) for (t in i) i.hasOwnProperty(t) && e.test(t) && delete i[t]; else delete this._events;
        return this;
    }, r.removeAllListeners = n("removeEvent"), r.emitEvent = function(e, t) {
        var r, i, n, s, o = this.getListenersAsObject(e);
        for (s in o) if (o.hasOwnProperty(s)) for (r = o[s].slice(0), n = 0; n < r.length; n++) !0 === (i = r[n]).once && this.removeListener(e, i.listener), 
        i.listener.apply(this, t || []) === this._getOnceReturnValue() && this.removeListener(e, i.listener);
        return this;
    }, r.trigger = n("emitEvent"), r.emit = function(e) {
        var t = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(e, t);
    }, r.setOnceReturnValue = function(e) {
        return this._onceReturnValue = e, this;
    }, r._getOnceReturnValue = function() {
        return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue;
    }, r._getEvents = function() {
        return this._events || (this._events = {});
    }, t.noConflict = function() {
        return e.EventEmitter = i, t;
    }, "function" == typeof define && define.amd ? define(function() {
        return t;
    }) : "object" == typeof module && module.exports ? module.exports = t : e.EventEmitter = t;
})("undefined" != typeof window ? window : this || {});

var osc = osc || require("./osc.js"), slip = slip || require("slip"), EventEmitter = EventEmitter || require("events").EventEmitter, osc = ((() => {
    osc.supportsSerial = !1, osc.firePacketEvents = function(e, t, r, i) {
        t.address ? e.emit("message", t, r, i) : osc.fireBundleEvents(e, t, r, i);
    }, osc.fireBundleEvents = function(e, t, r, i) {
        e.emit("bundle", t, r, i);
        for (var n = 0; n < t.packets.length; n++) {
            var s = t.packets[n];
            osc.firePacketEvents(e, s, t.timeTag, i);
        }
    }, osc.fireClosedPortSendError = function(e, t) {
        e.emit("error", t = t || "Can't send packets on a closed osc.Port object. Please open (or reopen) this Port by calling open().");
    }, osc.Port = function(e) {
        this.options = e || {}, this.on("data", this.decodeOSC.bind(this));
    };
    var e = osc.Port.prototype = Object.create(EventEmitter.prototype);
    e.constructor = osc.Port, e.send = function(e) {
        var t = Array.prototype.slice.call(arguments), e = this.encodeOSC(e), e = osc.nativeBuffer(e);
        t[0] = e, this.sendRaw.apply(this, t);
    }, e.encodeOSC = function(e) {
        var t;
        e = e.buffer || e;
        try {
            t = osc.writePacket(e, this.options);
        } catch (e) {
            this.emit("error", e);
        }
        return t;
    }, e.decodeOSC = function(e, t) {
        e = osc.byteArray(e), this.emit("raw", e, t);
        try {
            var r = osc.readPacket(e, this.options);
            this.emit("osc", r, t), osc.firePacketEvents(this, r, void 0, t);
        } catch (e) {
            this.emit("error", e);
        }
    }, osc.SLIPPort = function(e) {
        var t = this, e = this.options = e || {}, e = (e.useSLIP = void 0 === e.useSLIP || e.useSLIP, 
        this.decoder = new slip.Decoder({
            onMessage: this.decodeOSC.bind(this),
            onError: function(e) {
                t.emit("error", e);
            }
        }), e.useSLIP ? this.decodeSLIPData : this.decodeOSC);
        this.on("data", e.bind(this));
    }, (e = osc.SLIPPort.prototype = Object.create(osc.Port.prototype)).constructor = osc.SLIPPort, 
    e.encodeOSC = function(e) {
        e = e.buffer || e;
        try {
            var t = osc.writePacket(e, this.options), r = slip.encode(t);
        } catch (e) {
            this.emit("error", e);
        }
        return r;
    }, e.decodeSLIPData = function(e, t) {
        this.decoder.decode(e, t);
    }, osc.relay = function(e, t, r, i, n, s) {
        r = r || "message", i = i || "send", n = n || function() {}, s = s ? [ null ].concat(s) : [];
        function o(e) {
            s[0] = e, e = n(e), t[i].apply(t, s);
        }
        return e.on(r, o), {
            eventName: r,
            listener: o
        };
    }, osc.relayPorts = function(e, t, r) {
        var i = r.raw ? "raw" : "osc";
        return osc.relay(e, t, i, r.raw ? "sendRaw" : "send", r.transform);
    }, osc.stopRelaying = function(e, t) {
        e.removeListener(t.eventName, t.listener);
    }, osc.Relay = function(e, t, r) {
        (this.options = r || {}).raw = !1, this.port1 = e, this.port2 = t, this.listen();
    }, (e = osc.Relay.prototype = Object.create(EventEmitter.prototype)).constructor = osc.Relay, 
    e.open = function() {
        this.port1.open(), this.port2.open();
    }, e.listen = function() {
        this.port1Spec && this.port2Spec && this.close(), this.port1Spec = osc.relayPorts(this.port1, this.port2, this.options), 
        this.port2Spec = osc.relayPorts(this.port2, this.port1, this.options);
        var e = this.close.bind(this);
        this.port1.on("close", e), this.port2.on("close", e);
    }, e.close = function() {
        osc.stopRelaying(this.port1, this.port1Spec), osc.stopRelaying(this.port2, this.port2Spec), 
        this.emit("close", this.port1, this.port2);
    }, "undefined" != typeof module && module.exports && (module.exports = osc);
})(), osc || require("./osc.js"));

(() => {
    osc.WebSocket = "undefined" != typeof WebSocket ? WebSocket : require("ws"), 
    osc.WebSocketPort = function(e) {
        osc.Port.call(this, e), this.on("open", this.listen.bind(this)), this.socket = e.socket, 
        this.socket && (1 === this.socket.readyState ? (osc.WebSocketPort.setupSocketForBinary(this.socket), 
        this.emit("open", this.socket)) : this.open());
    };
    var e = osc.WebSocketPort.prototype = Object.create(osc.Port.prototype);
    e.constructor = osc.WebSocketPort, e.open = function() {
        (!this.socket || 1 < this.socket.readyState) && (this.socket = new osc.WebSocket(this.options.url)), 
        osc.WebSocketPort.setupSocketForBinary(this.socket);
        var t = this;
        this.socket.onopen = function() {
            t.emit("open", t.socket);
        }, this.socket.onerror = function(e) {
            t.emit("error", e);
        };
    }, e.listen = function() {
        var t = this;
        this.socket.onmessage = function(e) {
            t.emit("data", e.data, e);
        }, this.socket.onclose = function(e) {
            t.emit("close", e);
        }, t.emit("ready");
    }, e.sendRaw = function(e) {
        this.socket && 1 === this.socket.readyState ? this.socket.send(e) : osc.fireClosedPortSendError(this);
    }, e.close = function(e, t) {
        this.socket.close(e, t);
    }, osc.WebSocketPort.setupSocketForBinary = function(e) {
        e.binaryType = osc.isNode ? "nodebuffer" : "arraybuffer";
    };
})(), (osc = osc || require("./osc.js")).supportsSerial = !0, (() => {
    osc.SerialPort = function(e) {
        if (!("serial" in navigator)) throw Error("Web serial not supported in your browser. Check https://developer.mozilla.org/en-US/docs/Web/API/Web_Serial_API#browser_compatibility for more info.");
        this.on("open", this.listen.bind(this)), osc.SLIPPort.call(this, e), this.options.bitrate = this.options.bitrate || 9600, 
        this.serialPort = e.serialPort, this.serialPort && this.emit("open", this.serialPort);
    };
    var e = osc.SerialPort.prototype = Object.create(osc.SLIPPort.prototype);
    e.constructor = osc.SerialPort, e.open = async function() {
        if (this.serialPort) this.once("close", this.open.bind(this)), this.close(); else try {
            this.serialPort = await navigator.serial.requestPort(), await this.serialPort.open(this.options), 
            this.serialPort.isOpen = !0, this.emit("open", this.serialPort);
        } catch (e) {
            this.serialPort.isOpen = !1, this.emit("error", e);
        }
    }, e.listen = async function() {
        for (;this.serialPort.readable; ) {
            var e = this.serialPort.readable.getReader();
            try {
                for (;;) {
                    var {
                        value: t,
                        done: r
                    } = await e.read();
                    if (r) break;
                    this.emit("data", t, void 0);
                }
            } catch (e) {
                this.emit("error", e);
            } finally {
                e.releaseLock();
            }
        }
        this.emit("ready");
    }, e.messageQueue = [], e.isWriting = !1, e.sendRaw = async function(e) {
        if (this.serialPort && this.serialPort.isOpen) {
            if (this.messageQueue.push(e), !this.isWriting) {
                this.isWriting = !0;
                for (var t = this.serialPort.writable.getWriter(); 0 < this.messageQueue.length; ) {
                    var r = this.messageQueue.shift();
                    try {
                        await t.write(r);
                    } catch (e) {
                        console.error(e), this.emit("error", e);
                    }
                }
                t.releaseLock(), this.isWriting = !1;
            }
        } else osc.fireClosedPortSendError(this);
    }, e.close = function() {
        this.serialPort && (this.serialPort.close(), this.serialPort.isOpen = !1);
    };
})();